{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Image Ledger Schema",
  "type": "object",
  "required": ["generated_at", "slots"],
  "properties": {
    "generated_at": {"type": "string"},
    "slots": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["slot_id", "status"],
        "properties": {
          "slot_id": {"type": "string"},
          "status": {
            "type": "string",
            "enum": [
              "PLACED",
              "GENERATED_READY_TO_PLACE",
              "NEEDS_GENERATION",
              "STALE_PROMPT_CHANGED",
              "FAILED_LAST_RUN",
              "LOCKED",
              "SKIPPED_NOT_SELECTED"
            ]
          },
          "page_path": {"type": "string"},
          "slot_key": {"type": "string"},
          "prompt_hash": {"type": "string"},
          "manifest_status": {"type": "string"}
        }
      }
    }
  }
}
